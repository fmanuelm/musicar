{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nimport { Component } from '@angular/core';\nimport { ClientsService } from '../service/clients.service';\nimport jsPDF from \"jspdf\";\nimport autoTable from 'jspdf-autotable';\nimport * as FileSaver from \"file-saver\";\nlet DataTableComponent = class DataTableComponent {\n  constructor(clientService) {\n    this.clientService = clientService;\n    this.first = 0;\n    this.cols = [{\n      field: 'razon_social',\n      header: 'Razón social'\n    }, {\n      field: 'razon_comercial',\n      header: 'Razón comercial'\n    }, {\n      field: 'nit',\n      header: 'NIT'\n    }, {\n      field: 'tipo_cliente',\n      header: 'Tipo cliente'\n    }, {\n      field: 'paises.nombre',\n      header: 'País'\n    }];\n  }\n\n  ngOnInit() {\n    this.getClients();\n    this.exportColumns = this.cols.map(col => ({\n      title: col.header,\n      dataKey: col.field\n    }));\n  }\n\n  getClients() {\n    this.clients = [{\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }, {\n      \"id\": 1,\n      \"razon_social\": \"CALIDOZO\",\n      \"razon_comercial\": null,\n      \"nit\": \"4522168954\",\n      \"nombre_sala\": \"gM00N\",\n      \"observaciones\": \"El cliente quiere que le toquen los mensajes tempranos\",\n      \"creado\": \"2023-01-03T14:50:53.006Z\",\n      \"actualizado\": \"2023-01-03T14:50:53.006Z\",\n      \"subgrupo_economico\": null,\n      \"paises\": {\n        \"id\": 1,\n        \"nombre\": \"Colombia\",\n        \"creado\": \"2023-01-03T14:50:53.006Z\",\n        \"actualizado\": \"2023-01-03T14:50:53.006Z\"\n      },\n      \"usuario_comercial\": null,\n      \"tipo_cliente\": null\n    }]; // this.clientService.getClients().subscribe(response => {\n    //   this.clients = response;\n    // })\n  }\n\n  exportPdf() {\n    const datos = this.clients.map(cliente => {\n      return {\n        razon_social: cliente.razon_social,\n        razon_comercial: cliente.razon_comercial,\n        nit: cliente.nit,\n        tipo_cliente: cliente.tipo_cliente,\n        pais: cliente.pais.nombre\n      };\n    });\n    const exportColumns = this.cols.map(col => ({\n      title: col.header,\n      dataKey: col.field\n    }));\n    const doc = new jsPDF('p', 'pt');\n    autoTable(doc, {\n      columns: exportColumns,\n      body: datos,\n      didDrawPage: dataArg => {\n        doc.text('clientes', dataArg.settings.margin.left, datos.length);\n      }\n    });\n    doc.save(`clientes.pdf`);\n  }\n\n  exportExcel() {\n    const datos = this.clients.map(cliente => {\n      return {\n        razon_social: cliente.razon_social,\n        razon_comercial: cliente.razon_comercial,\n        nit: cliente.nit,\n        tipo_cliente: cliente.tipo_cliente,\n        pais: cliente.pais.nombre\n      };\n    });\n    import('xlsx').then(xlsx => {\n      const worksheet = xlsx.utils.json_to_sheet(datos);\n      const workbook = {\n        Sheets: {\n          'data': worksheet\n        },\n        SheetNames: ['data']\n      };\n      const excelBuffer = xlsx.write(workbook, {\n        bookType: 'xlsx',\n        type: 'array'\n      });\n      this.saveAsExcelFile(excelBuffer, 'clientes');\n    });\n  }\n\n  saveAsExcelFile(buffer, fileName) {\n    let EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n    let EXCEL_EXTENSION = '.xlsx';\n    const data = new Blob([buffer], {\n      type: EXCEL_TYPE\n    });\n    FileSaver.saveAs(data, fileName + '_export_' + new Date().getTime() + EXCEL_EXTENSION);\n  }\n\n};\nDataTableComponent = __decorate([Component({\n  selector: 'app-data-table-cmp',\n  templateUrl: 'datatable.component.html'\n}), __metadata(\"design:paramtypes\", [ClientsService])], DataTableComponent);\nexport { DataTableComponent };","map":null,"metadata":{},"sourceType":"module"}